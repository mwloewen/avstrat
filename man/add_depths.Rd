% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_depths.R
\name{add_depths}
\alias{add_depths}
\title{Add standardized depth information to stratigraphic layer data}
\usage{
add_depths(df)
}
\arguments{
\item{df}{A data frame containing stratigraphic layer information. The
function works with two types of data input. If \code{stratlayermethod} is
"order and thickness", expected columns include:
\itemize{
\item \code{stratlayer_order_start_at_top} Logical or numeric indicator
of whether ordering starts at the top.
\item \code{thickness_units}, \code{thickness_typical},
\code{thickness_min}, \code{thickness_max} Thickness information.
\item \code{stratsection_name}, \code{stratlayer_order} Identifiers for
sections and the relative order of each layer.
}
If \code{stratlayermethod} is "start and stop depth", expected columns
include:
\itemize{
\item \code{depth_units}, \code{depth_top}, \code{depth_bottom} Absolute
depth information.
}
Missing columns are added automatically and filled with \code{NA}.}
}
\value{
A tibble with the original data plus additional columns:
\itemize{
\item \code{thickness_defining_cm}, \code{thickness_min_cm},
\code{thickness_max_cm}: thickness values converted to centimeters.
\item \code{depth_top_cm}, \code{depth_bottom_cm}: depth values converted
to centimeters.
\item \code{thickness_plot}: a single representative thickness for
plotting, derived from available thickness information.
\item \code{thickness_plot_warning}: warning message if no thickness was
available.
\item \code{Depth_top}, \code{Depth_bottom}, \code{Depth_middle}:
calculated depths (cm) for each layer.
}
Rows without sufficient information are dropped.
}
\description{
This function takes a data frame of stratigraphic layer information and
calculates standardized thickness and depth values. It ensures required
columns are present, converts thickness and depth units to centimeters,
derives a plotting thickness, and computes top, bottom, and middle depths
for each layer within a stratigraphic section. The function is designed to
handle input where layers are defined either by thickness or with  absolute
start and stop depth values.
}
\details{
The function groups data by \code{stratsection_name} and orders layers
according to \code{stratlayer_order_start_at_top}. Depths are then computed
cumulatively (if only thickness is provided) or taken directly from absolute
depth columns (if available).
}
