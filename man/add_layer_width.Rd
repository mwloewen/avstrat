% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_layer_width.R
\name{add_layer_width}
\alias{add_layer_width}
\title{Reformat stratigraphic layer data for polygon plotting}
\usage{
add_layer_width(df)
}
\arguments{
\item{df}{A data frame containing stratigraphic layer information.
Expected columns include:
\itemize{
\item \code{grainsize_top}, \code{grainsize_bottom}: grain size labels.
\item \code{Depth_top}, \code{Depth_bottom}: numeric depths for each layer.
}}
}
\value{
A tibble in long format with columns:
\itemize{
\item \code{size_loc}: identifier for polygon vertex location.
\item \code{size_text}: original grain size text.
\item \code{depth}: numeric depth coordinate.
\item \code{grainsize}: numeric grain size code for plotting.
}
}
\description{
This function reshapes stratigraphic layer data into a "long" format
suitable for plotting polygons (e.g., with \code{geom_polygon}) in a
stratigraphic section diagram. It constructs left/right grain size
boundaries, gathers them into long format, assigns depth coordinates,
and converts grain size text labels into numeric values for plotting.
}
\details{
Grain size text values are mapped to numeric codes (e.g., clay = 1,
silt = 1, very fine sand = 2, ..., blocks/bombs/boulders = 10).
The mapping is designed for consistent plotting across multiple
stratigraphic sections.
}
\examples{
library(dplyr)
library(tidyr)
df <- tidyr::tibble(
  grainsize_top = c("clay", "silt"),
  grainsize_bottom = c("silt", "sand"),
  Depth_top = c(0, 10),
  Depth_bottom = c(10, 20)
)
add_layer_width(df)
}
